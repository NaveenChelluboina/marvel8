<!--This page is used to add or edit leads-->

<div class="NewHeader">
        <h1 mat-dialog-title>
            <span *ngIf="!year" class="title-left">Add</span>
            <span *ngIf="year" class="title-left">Update</span> Year
        </h1>
    </div> 
    <div mat-dialog-content>
        <form class="form-horizontal" novalidate [formGroup]="addYearForm">
            <div class="form-group">
                <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4 add-member-label" for="pwd">Fleet Name: </label>
                <div class="col-sm-8">
                        <mat-select color="primary" placeholder="-- Select Fleet --"  formControlName="fleetName" class="form-control" required>
                            <mat-option *ngFor="let fleet of fleets" [value]="fleet.fleet_id">{{fleet.fleet_name}}</mat-option>
                        </mat-select>
                        <div *ngIf="!fleetName.valid && (fleetName.dirty || fleetName.touched)" class="error-text">
                            <div *ngIf="fleetName.errors.required">
                                Fleet Name is required
                            </div>
                        </div>
                    </div>
                 </div>
            <div class="form-group">
                    <label class="control-label col-sm-4 add-member-label">Effective Date:&nbsp;</label>
                    <div class="col-sm-8">
                            <input class="form-control" formControlName="startDate" placeholder="MM/DD/YYYY" [owlDateTimeTrigger]="dt6" [owlDateTime]="dt6" name="dt6">
                            <owl-date-time [pickerType]="'calendar'" #dt6></owl-date-time>
                            <!-- <mat-select color="primary" placeholder="-- Select Start Year --" (selectionChange)='firstDropDownChanged($event.value)' formControlName="startDate" class="form-control" required>
                                    <mat-option *ngFor="let startYear of startyears" [value]="startYear.year_name">{{startYear.year_name}}</mat-option>
                                </mat-select> -->
                        <div *ngIf="!startDate.valid && (startDate.dirty || startDate.touched)" class="error-text">
                            <div *ngIf="startDate.errors.required">
                                Effective Date is required
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-4 add-member-label">Expiry Date:&nbsp;</label>
                    <div class="col-sm-8">
                            <!-- <mat-select color="primary" placeholder="-- Select Inactive Year --"  formControlName="inactiveDate" class="form-control" required>
                                    <mat-option *ngFor="let startYear of endYears" [value]="startYear.year_name">{{startYear.year_name}}</mat-option>
                                </mat-select> -->
                                <input class="form-control" formControlName="inactiveDate" placeholder="MM/DD/YYYY" [owlDateTimeTrigger]="dt5" [owlDateTime]="dt5" name="dt5">
                                <owl-date-time [pickerType]="'calendar'" #dt5></owl-date-time>
                        <div *ngIf="!inactiveDate.valid && (inactiveDate.dirty || inactiveDate.touched)" class="error-text">
                                <div *ngIf="inactiveDate.errors.required">
                                    Expiry Date is required
                                </div>
                            </div>
                    </div>
                </div>
        </form>
    </div>
    <mat-dialog-actions align="end" style="margin-right:-8px!important">
        <button mat-raised-button [disabled]="!addYearForm.valid" style="cursor:pointer;" [ngClass]="!addYearForm.valid ? '' : 'btn-primary'" (click)="saveYear()"><mat-icon *ngIf="year">update</mat-icon><mat-icon *ngIf="!year">save</mat-icon><span *ngIf="!year"> Save</span><span *ngIf="year"> Update</span></button>
        <button mat-raised-button class="CancelClass" (click)="close()"><mat-icon>cancel</mat-icon>&nbsp;Close</button>
    </mat-dialog-actions> 